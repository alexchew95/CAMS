<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <Title>Journal Management System</Title>
</head>
<body>
    <form id="AssignReviewer">
        <h3 class="dark-grey-text text-center">
            <strong>Editor</strong>
        </h3>
        
        <div class="alert alert-danger" role="alert" id="errorMessage"></div>
        <div class="md-form">
            <label for="articleid">Article ID:</label>
            <input type="string" id="articleid" style="max-width:250px" class="form-control" focus required><br>
        </div>

        <div class="md-form">
            <label for="articlename">Article Name:</label>
            <input type="string" id="articlename" style="max-width:250px" class="form-control" focus required><br>
        </div>

        <div class="md-form">
            <label for="reviewer1">First Reviewer:</label>
            <input type="string" id="reviewer1" style="max-width:250px" class="form-control" focus required><br>
        </div>

        <div class="md-form">
            <label for="reviewer2">Second Reviewer:</label>
            <input type="string" id="reviewer2" style="max-width:250px" class="form-control" focus required><br>
        </div>
        
        <div class="text-center">
            <button class="btn btn-indigo" id="AssignReviewer" type="submit">Assign Reviewer</button>
        </div>
    </form>
    
     <!-- JavaScript Libraries -->
     <script src="lib/jquery/jquery.min.js"></script>
     <script src="lib/jquery/jquery-migrate.min.js"></script>
     <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
     <script src="lib/easing/easing.min.js"></script>
     <script src="lib/mobile-nav/mobile-nav.js"></script>
     <script src="lib/wow/wow.min.js"></script>
     <script src="lib/waypoints/waypoints.min.js"></script>
     <script src="lib/counterup/counterup.min.js"></script>
     <script src="lib/owlcarousel/owl.carousel.min.js"></script>
     <script src="lib/isotope/isotope.pkgd.min.js"></script>
     <script src="lib/lightbox/js/lightbox.min.js"></script>
     <!-- Contact Form JavaScript File -->
     <script src="contactform/contactform.js"></script>

    <script src="js/main.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.4.0/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.4.0/firebase-firestore.js"></script>
    <srcipt src="FirebaseAccount.js"></srcipt>
    
    <script>
        $(function ()
        {
            initApp();
            $("#errorMessage").hide();
            $("#AssignReviewer").submit(function( event )
            {
                event.preventDefault();

                var articleid = $("#articleid").val();
                var articlename = $("articlename").val();
                var reviewer1 = $("#reviewer1").val();
                var reviewer2 = $("#reviewer2").val();
           
                $("#errorMessage").html("");
                $("#errorMessage").hide("");

                var obj = new Object();
                obj.aid = articleid;
                obj.title = articlename;
                obj.reviewerOne = reviewer1;
                obj.reviewerOneStatus = "Pending";
                obj.reviewerTwo = reviewer2;
                obj.reviewertwoStatus = "Pending";

                var db = firebase.firestore();
                db.collection("Reviewer Assign").add(obj).then(function(docRef)
                {
                    $("#errorMessage").show();
                    $("#errorMessage").html("Assign Successfully");
                    $("#aid").val("");
                    $("#title").val("");
                    $("#reviewerOne").val("");
                    $("#reviewerTwo").val("");
                })

                firebase.auth().requestInformation(aid, title, reviewerOne, reviewerTwo).then(function()
                {
                    $("#errorMessage").html("");
                    $("#errorMessage").hide();
                    $("#articleid").val("");
                    $("#articlename").val("");
                    $("#reviewer1").val("");
                    $("#reviewer2").val("");
                }).catch(function(error)
                {
                    var errorCode = error.code;
                    var errorMessage = error.message;
                    $("#errorMessage").show();
                });
            });
        });
    </script>
    
</body>
</html>