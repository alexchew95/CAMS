<!doctype html>
<html lang="en" dir="ltr">

<head>
	<meta charset="UTF-8">
	<meta name="viewport"
		content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta http-equiv="Content-Language" content="en" />
	<meta name="msapplication-TileColor" content="#2d89ef">
	<meta name="theme-color" content="#4188c9">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<link rel="icon" href="./favicon.ico" type="image/x-icon" />
	<link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
	<!-- Generated: 2018-04-06 16:27:42 +0200 -->
	<title>CAMS - Home</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,500,500i,600,600i,700,700i&amp;subset=latin-ext">
	<!-- <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-firestore.js"></script> -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> 
    <script src="//geodata.solutions/includes/countrystatecity.js"></script>

	<!-- <script src="./assets/js/firebase.js"></script> -->

	<script src="https://www.gstatic.com/firebasejs/7.0.0/firebase.js"></script>
	<script src="./assets/js/require.min.js"></script>

	<script>
		requirejs.config({
			baseUrl: '.'
		});

	</script>
	<!--Needed for JQuery Modal
	TODO: think how to move it to requireJS-->

	<!-- this JQEUERY had to be here in order for modal to work -->
	<!-- Dashboard Core -->
	<link href="./assets/css/dashboard.css" rel="stylesheet" />
	<script src="./assets/js/dashboard.js"></script>
	<!-- Input Mask Plugin -->
	<script src="./assets/plugins/input-mask/plugin.js"></script>
	<!-- jQuery Modal CSS-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />

</head>
<div class="custom-loader"></div>

<body class="">
	<div class="page">
		<div class="page-main">
			<div class="header py-4">
				<div class="container" id="topbar">
					<!--Header to auto load here-->
				</div>
			</div>
		
			<div class="header collapse d-lg-flex p-0" id="headerMenuCollapse">
				<div class="container" id="navbar">
                    
				</div>
			</div>

			<div class="my-3 my-md-5">
				<div class="container">

                        <div class="page-header">
                                <h1 class="page-title">
                                    Personal Information
                                </h1>
                            </div>
                    
                        <fieldset class="form-fieldset" id="add_Journal_Info">
                                <form id="Add_Journal_Info">
                                    <div class="form-group">
                                        <label class="form-label">Name:<span class="form-required">*</span></label>
                                        <input type="text" id="Username" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                            <label class="form-label">Title:</label>
                                            <select name="Title" id = "title" class="form-control custom-select">
                                                    <option class = "dropdown" value="Dr.">Dr.</option>
                                                    <option value="Mr.">Mr.</option>
                                                    <option value="Mrs.">Mrs.</option>
                                                    <option value="Ms.">Ms.</option>
                                                    <option value="E-Commerce">Assist.Prof.</option>
                                                    <option value="Assoc.Prof.">Assoc.Prof.</option>
                                                    <option value="Prof.">Prof.</option>
                                                    <option value="Ph.D">Ph.D</option>
                                                    <option value="Specialist">Specialist</option>
                                            </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Institute Belong:<span class="form-required">*</span></label>
                                        <input type="text" id="aff" class="form-control" />
                                    </div>
                                    <div class="form-group mb-0">
                                        <label class="form-label">Address:<span class="form-required">*</span></label>
                                        <input type="text" id="address" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Country:<span class="form-required">*</span></label>
                                        <!-- <select name="country" class="form-control custom-select" id="countryId">
                                                <option value="">Select Country</option>
										</select> -->
										<select name="country" class="form-control custom-select" id="countryId" ><option value="">Please select country</option><option value="AF">Afganistan</option><option value="AL">Albania</option><option value="DZ">Algeria</option><option value="AS">American Samoa</option><option value="AD">Andorra</option><option value="AO">Angola</option><option value="AI">Anguilla</option><option value="AQ">Antarctica</option><option value="AG">Antigua And Barbuda</option><option value="AR">Argentina</option><option value="AM">Armenia</option><option value="AW">Aruba</option><option value="AU">Australia</option><option value="AT">Austria</option><option value="AZ">Azerbaijan</option><option value="BS">Bahamas</option><option value="BH">Bahrain</option><option value="BD">Bangladesh</option><option value="BB">Barbados</option><option value="BY">Belarus</option><option value="BE">Belgium</option><option value="BZ">Belize</option><option value="BJ">Benin</option><option value="BM">Bermuda</option><option value="BT">Bhutan</option><option value="BO">Bolivia</option><option value="BA">Bosnia And Herzegovina</option><option value="BW">Botswana</option><option value="BV">Bouvet Island</option><option value="BR">Brazil</option><option value="BN">Brunei Darussalam</option><option value="BG">Bulgaria</option><option value="BF">Burkina Faso</option><option value="BI">Burundi</option><option value="KH">Cambodia</option><option value="CM">Cameroon</option><option value="CA">Canada</option><option value="CV">Cape Verde</option><option value="KY">Cayman Islands</option><option value="CF">Central African Republic</option><option value="TD">Chad</option><option value="CL">Chile</option><option value="CN">China</option><option value="CX">Christmas Island</option><option value="CC">Cocos (Keeling) Islands</option><option value="CO">Colombia</option><option value="KM">Comoros</option><option value="CD">Congo</option><option value="CK">Cook Islands</option><option value="CR">Costa Rica</option><option value="CI">Cote D'Ivoire</option><option value="HR">Croatia</option><option value="CU">Cuba</option><option value="CY">Cyprus</option><option value="CZ">Czech Republic</option><option value="CG">Democratic Republic Of Congo</option><option value="DK">Denmark</option><option value="DJ">Djibouti</option><option value="DM">Dominica</option><option value="DO">Dominican Republic</option><option value="TP">East Timor</option><option value="EC">Ecuador</option><option value="EG">Egypt</option><option value="SV">El Salvador</option><option value="GQ">Equatorial Guinea</option><option value="ER">Eritrea</option><option value="EE">Estonia</option><option value="ET">Ethiopia</option><option value="FK">Falkland Islands (Malvinas)</option><option value="FO">Faroe Islands</option><option value="FJ">Fiji</option><option value="FI">Finland</option><option value="FR">France</option><option value="FX">France Metropolitan</option><option value="GF">French Guiana</option><option value="PF">French Polynesia</option><option value="TF">French Southern Territories</option><option value="GA">Gabon</option><option value="GM">Gambia</option><option value="GE">Georgia</option><option value="DE">Germany</option><option value="GH">Ghana</option><option value="GI">Gibraltar</option><option value="GR">Greece</option><option value="GL">Greenland</option><option value="GD">Grenada</option><option value="GP">Guadeloupe</option><option value="GU">Guam</option><option value="GT">Guatemala</option><option value="GN">Guinea</option><option value="GW">Guinea-Bissau</option><option value="GY">Guyana</option><option value="HT">Haiti</option><option value="HM">Heard And Mc Donald Islands</option><option value="HN">Honduras</option><option value="HK">Hong Kong</option><option value="HU">Hungary</option><option value="IS">Iceland</option><option value="IN">India</option><option value="ID">Indonesia</option><option value="IR">Iran</option><option value="IQ">Iraq</option><option value="IE">Ireland</option><option value="IM">Isle Of Man</option><option value="IL">Israel</option><option value="IT">Italy</option><option value="JM">Jamaica</option><option value="JP">Japan</option><option value="JO">Jordan</option><option value="KZ">Kazakhstan</option><option value="KE">Kenya</option><option value="KI">Kiribati</option><option value="KR">Korea</option><option value="KS">Kosovo</option><option value="KW">Kuwait</option><option value="KG">Kyrgyzstan</option><option value="LA">Laos</option><option value="LV">Latvia</option><option value="LB">Lebanon</option><option value="LS">Lesotho</option><option value="LR">Liberia</option><option value="LY">Libya</option><option value="LI">Liechtenstein</option><option value="LT">Lithuania</option><option value="LU">Luxembourg</option><option value="MO">Macau</option><option value="MK">Macedonia</option><option value="MG">Madagascar</option><option value="MW">Malawi</option><option value="MY">Malaysia</option><option value="MV">Maldives</option><option value="ML">Mali</option><option value="MT">Malta</option><option value="MH">Marshall Islands</option><option value="MQ">Martinique</option><option value="MR">Mauritania</option><option value="MU">Mauritius</option><option value="YT">Mayotte</option><option value="MX">Mexico</option><option value="FM">Micronesia</option><option value="MD">Moldova</option><option value="MC">Monaco</option><option value="MN">Mongolia</option><option value="MNT">Montenegro</option><option value="MS">Montserrat</option><option value="MA">Morocco</option><option value="MZ">Mozambique</option><option value="MM">Myanmar</option><option value="NA">Namibia</option><option value="NR">Nauru</option><option value="NP">Nepal</option><option value="AN">Netherlands Antilles</option><option value="NC">New Caledonia</option><option value="NZ">New Zealand</option><option value="NI">Nicaragua</option><option value="NE">Niger</option><option value="NG">Nigeria</option><option value="NU">Niue</option><option value="NF">Norfolk Island</option><option value="KP">North Korea</option><option value="MP">Northern Mariana Islands</option><option value="NO">Norway</option><option value="OM">Oman</option><option value="ZZ">Other</option><option value="PK">Pakistan</option><option value="PW">Palau</option><option value="PS">Palestinian Authority</option><option value="PA">Panama</option><option value="PG">Papua New Guinea</option><option value="PY">Paraguay</option><option value="PE">Peru</option><option value="PH">Philippines</option><option value="PN">Pitcairn</option><option value="PL">Poland</option><option value="PT">Portugal</option><option value="PR">Puerto Rico</option><option value="QA">Qatar</option><option value="RE">Reunion</option><option value="RO">Romania</option><option value="RU">Russia</option><option value="RW">Rwanda</option><option value="KN">Saint Kitts And Nevis</option><option value="LC">Saint Lucia</option><option value="WS">Samoa</option><option value="SM">San Marino</option><option value="ST">Sao Tome And Principe</option><option value="SA">Saudi Arabia</option><option value="SCO">Scotland</option><option value="SN">Senegal</option><option value="SRB">Serbia</option><option value="SC">Seychelles</option><option value="SL">Sierra Leone</option><option value="SG">Singapore</option><option value="SK">Slovakia</option><option value="SI">Slovenia</option><option value="SB">Solomon Islands</option><option value="SO">Somalia</option><option value="ZA">South Africa</option><option value="KS">South Korea</option><option value="ES">Spain</option><option value="LK">Sri Lanka</option><option value="SH">St. Helena</option><option value="PM">St. Pierre And Miquelon</option><option value="SD">Sudan</option><option value="SR">Suriname</option><option value="SZ">Swaziland</option><option value="SE">Sweden</option><option value="CH">Switzerland</option><option value="SY">Syria</option><option value="TW">Taiwan</option><option value="TJ">Tajikistan</option><option value="TZ">Tanzania</option><option value="TH">Thailand</option><option value="NL">The Netherlands</option><option value="TG">Togo</option><option value="TK">Tokelau</option><option value="TO">Tonga</option><option value="TT">Trinidad And Tobago</option><option value="TN">Tunisia</option><option value="TR">Turkey</option><option value="TM">Turkmenistan</option><option value="TC">Turks And Caicos Islands</option><option value="TV">Tuvalu</option><option value="UG">Uganda</option><option value="UA">Ukraine</option><option value="AE">United Arab Emirates</option><option value="UK">United Kingdom</option><option value="UY">Uruguay</option><option value="US">USA</option><option value="UZ">Uzbekistan</option><option value="VU">Vanuatu</option><option value="VE">Venezuela</option><option value="VN">Vietnam</option><option value="VG">Virgin Islands (British)</option><option value="VI">Virgin Islands (U.S.)</option><option value="WF">Wallis And Futuna Islands</option><option value="EH">Western Sahara</option><option value="YE">Yemen</option><option value="ZM">Zambia</option><option value="ZW">Zimbabwe</option></select>
                                    </div>
                                    
                                    <!-- <div class="form-group">
                                        <label class="form-label">State:<span class="form-required">*</span></label>
                                        <select name="state" class="form-control custom-select" id="stateId">
                                                <option value="">Select State</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                            <label class="form-label">Cities:<span class="form-required">*</span></label>
                                            <select name="city" class="form-control custom-select" id="cityId">
                                                    <option value="">Select City</option>
                                            </select>
                                    </div> -->
                                    <div class="form-group mb-0">
                                            <label class="form-label">E-mail Address:<span class="form-required">*</span></label>
                                            <input type="text" id="email" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                            <label class="form-label">Telephone:</label>
                                            <input type="text" name="field-name" class="form-control" data-mask="000-000-0000" data-mask-clearifnotmatch="true" placeholder="000-000-0000" autocomplete="off" maxlength="10">
									</div>
									<div class="form-group">
											<label class="form-label">Upload Profile Picture:</label>
											<div class="custom-file">
												<!-- <input type="file" class="custom-file-input" name="example-file-input-custom"> -->
												<input type="file" value="upload" id="fileButton" name="files[]" />
												<!-- <button type="button" class="btn btn-dark"><i class="fe fe-upload mr-2"></i>Upload</button> -->
											</div>
									</div>
                                    <div class="btn-list">
                                        <a href="#" id="add" onclick="location.href = 'home.html';" class="btn btn-success" type="submit">Save changes</a>
                                        <button href='#' onclick="window.history.back()" class="btn btn-danger">Back</button>
                                    </div>
                                </form>
                            </fieldset>

				</div>

			</div>


		</div>
		<div class="footer">

		</div>
		<footer class="footer">
			<div class="container">
				<div class="row align-items-center flex-row-reverse">
					<div class="col-auto ml-lg-auto">
						<div class="row align-items-center">
						
						</div>
					</div>
					<div class="col-12 col-lg-auto mt-3 mt-lg-0 text-center">
						Copyright Â© 2018
						<a href=".">CAMS Sdn Bhd</a>. Theme by
						<a href="https://tentspark.com" target="_blank">tenstpark</a> All rights reserved.
					</div>
				</div>
			</div>
		</footer>
	</div>




	<script type="text/javascript">
		require(['mainjs', 'twbs', 'modal','input-mask'], function () {

			//When the page has loaded.
			$(document).ready(function () {

				document.getElementById('Username').value = sessionStorage.getItem("name");
				document.getElementById('email').value = sessionStorage.getItem("email");

				// $('#file').on("change", function (evt) {
				// 	evt.stopPropagation();
				// 	evt.preventDefault();
				// 	file = evt.target.files[0];

				// 	$("#fileMessage").text(file.name);


				// 	var metadata = {
				// 	'contentType': file.type
				// 	};

				// 	var storageRef = firebase.storage().ref();
				// 	storageRef.child('users-profile/' + firebase.auth().currentUser.uid).put(file, metadata).then(function (snapshot) {
				// 	});


				// });

				var fileButton = document.getElementById('fileButton');

				fileButton.addEventListener('change', function (e) {
					console.log("button")
					//get file
					var file = e.target.files[0];
					

					//create a storage ref
				
					var storage = firebase.storage();
					var storageRef = storage.ref();
					var mountainImagesRef = storageRef.child('users-profile/' + uid + '.jpg');


					//upload file
					mountainImagesRef.put(file).then(function (snapshot) {
						snapshot.ref.getDownloadURL().then(function(downloadURL) {
							console.log("File available at", downloadURL);
							//get uid from sessionStorage
										console.log(uid)		
							var Photo = downloadURL;
							var obj = new Object();
							obj.Photo = Photo;

							var db = firebase.firestore();
							db.collection("Users").doc(uid).update({
								Photo: downloadURL,
							});
							
							
						
						});
						console.log("upload success")
						//window.location = "home.html";
					});

				
				});

			});
		});

	</script>
</body>

</html>